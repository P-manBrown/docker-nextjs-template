pre-commit:
  parallel: true
  commands:
    eslint:
      glob: 'src/**/*.{ts,tsx}'
      run: >-
        docker compose run --rm --no-deps frontend bash -c "
        yarn eslint --fix {staged_files}
        "
    prettier:
      run: >-
        docker compose run --rm --no-deps frontend bash -c "
        yarn prettier {staged_files} --write --ignore-unknown
        "
    markdownlint:
      glob: '*.md'
      run: >-
        docker compose run --rm --no-deps frontend bash -c "
        yarn markdownlint --fix {staged_files}
        "
commit-msg:
  commands:
    commitlint:
      run: >-
        docker compose run --rm --no-deps frontend bash -c "
        yarn commitlint --edit {1}
        "
pre-push:
  commands:
    jest:
      files: git diff --name-only HEAD @{push} || git diff --name-only HEAD main
      glob: 'src/**/*.{ts,tsx}'
      run: >-
        docker compose run --rm --no-deps frontend bash -c "
        yarn jest --findRelatedTests {files}
        "
